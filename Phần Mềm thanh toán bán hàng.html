<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ph·∫ßn M·ªÅm thanh to√°n b√°n h√†ng 00</title>
  <!-- SheetJS for Export Excel -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <style>
    :root{
      --accent:#0b76ff;
      --muted:#666;
      --bg:#f4f6f9;
      --card:#fff;
      --text:#222;
      --success:#28a745;
    }
    [data-theme="dark"]{
      --bg:#0f1720;
      --card:#0b1220;
      --text:#e6eef8;
      --muted:#9aa6b2;
    }
    *{box-sizing:border-box}
    body{
      font-family:Inter,Segoe UI,Roboto,Arial;
      margin:0;padding:0;
      background:var(--bg);color:var(--text);
    }
    .app{max-width:1200px;margin:24px auto;padding:20px;background:var(--card);border-radius:10px;
      box-shadow:0 6px 18px rgba(20,20,40,0.06)}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px}
    header .left{display:flex;flex-direction:column}
    h1{font-size:20px;margin:0;color:var(--accent)}
    .muted{color:var(--muted);font-size:13px}
    nav{margin-top:16px;display:flex;gap:10px;flex-wrap:wrap}
    nav button{padding:8px 14px;border-radius:6px;border:1px solid #ccc;background:transparent;cursor:pointer}
    nav button.active{background:var(--accent);color:#fff;border-color:var(--accent)}
    .layout{display:grid;grid-template-columns:1fr 380px;gap:18px;margin-top:18px}
    /* products */
    .products{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
    .card{background:var(--card);border:1px solid #eef2f6;padding:12px;border-radius:8px}
    .card h3{margin:0;font-size:16px}
    .price{color:var(--accent);font-weight:700}
    .prod-actions{display:flex;align-items:center;gap:8px;margin-top:8px}
    button.primary{background:var(--accent);color:#fff;border:none;padding:8px 10px;border-radius:8px;cursor:pointer}
    button.ghost{background:transparent;color:var(--accent);border:1px solid #d5e6ff}
    /* cart */
    .cart{border-left:1px dashed #eee;padding-left:14px}
    .cart h2{margin-top:0}
    table{width:100%;border-collapse:collapse}
    th,td{padding:6px;text-align:left}
    tbody tr{border-bottom:1px solid #f1f3f6}
    .qty{width:64px}
    .total{font-size:18px;font-weight:700;text-align:right}
    .controls{display:flex;gap:8px;align-items:center;margin:8px 0}
    input[type=number],input[type=text],select{padding:6px;border-radius:6px;border:1px solid #e3e7ee;background:transparent;color:var(--text)}
    /* invoice */
    .invoice{background:var(--card);padding:12px;border:1px solid #eee;border-radius:8px;margin-top:12px}
    .invoice .logo{font-weight:800;color:var(--accent);font-size:18px}
    .invoice table{font-size:14px}
    .small{font-size:13px;color:var(--muted)}
    /* orders */
    .orders-list{margin-top:10px}
    .orders-container{max-height:400px;overflow-y:auto;border-radius:8px;overflow:hidden;border:1px solid #e6eef6}
    .orders-container table{width:100%;border-collapse:collapse}
    .orders-container thead th{position:sticky;top:0;background:var(--accent);color:#fff;padding:10px;z-index:2}
    .orders-container tbody td{padding:10px;text-align:left;border-bottom:1px solid rgba(0,0,0,0.04)}
    .orders-container tbody tr:hover{background:rgba(11,118,255,0.06);cursor:pointer}
    .orders-container tfoot td{position:sticky;bottom:0;background:rgba(243,247,255,0.95);font-weight:700;padding:10px;border-top:2px solid #e3e7ee;color:var(--accent)}
    .right{text-align:right}
    .bold{font-weight:700}
    .toolbar{display:flex;gap:8px;align-items:center;justify-content:space-between;margin-bottom:10px}
    .filters{display:flex;gap:8px;flex:1}
    .filters input,.filters select{padding:8px;border-radius:6px;border:1px solid #dfe7f3}
    .actions{display:flex;gap:8px}
    .fade-in{animation:fadein 220ms ease}
    @keyframes fadein{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}
    @media(max-width:900px){.layout{grid-template-columns:1fr} .products{grid-template-columns:1fr}}
    @media print{ body *{visibility:hidden} .print-area, .print-area *{visibility:visible} .print-area{position:fixed;left:0;top:0;width:80mm;padding:6mm} }
  </style>
</head>
<body>
  <div class="app" id="appRoot" data-theme="light">
    <header>
      <div class="left">
        <h1>H·ªá th·ªëng thanh to√°n t·ª± ƒë·ªông</h1>
        <div class="muted">M·ªü file n√†y b·∫±ng tr√¨nh duy·ªát ‚Äî D·ªØ li·ªáu l∆∞u trong LocalStorage</div>
      </div>
      <div style="display:flex;gap:8px;align-items:center">
        <div class="muted" style="font-size:13px">Ch·ªß: github.com/HOTRONGBANG</div>
        <button id="themeToggle" style="padding:6px 10px;border-radius:6px;border:1px solid #ddd;cursor:pointer">üåô Dark</button>
      </div>
    </header>

    <nav>
      <button data-tab="sales" class="active">üíµ B√°n h√†ng</button>
      <button data-tab="orders">üìë H√≥a ƒë∆°n</button>
    </nav>

    <!-- Tab b√°n h√†ng -->
    <div id="tabSales" class="layout">
      <div>
        <section>
          <h2>S·∫£n ph·∫©m</h2>
          <div class="products" id="productList"></div>
        </section>
      </div>
      <aside class="cart">
        <h2>Gi·ªè h√†ng</h2>
        <div class="small muted">Ch·ªçn s·ªë l∆∞·ª£ng, thanh to√°n v√† in h√≥a ƒë∆°n</div>
        <table style="margin-top:8px">
          <thead><tr><th>S·∫£n ph·∫©m</th><th class="qty">SL</th><th class="right">ƒêG</th></tr></thead>
          <tbody id="cartBody"></tbody>
        </table>
        <div style="margin-top:10px">
          <label class="small muted">Khuy·∫øn m√£i (%): <input id="discount" type="number" value="0" min="0" max="100" style="width:80px"></label>
        </div>
        <div style="margin-top:10px">
          <label class="small muted">VAT (%): <input id="tax" type="number" value="0" min="0" max="100" style="width:80px"></label>
        </div>
        <div style="margin-top:10px" class="total" id="totals">T·ªïng: 0‚Ç´</div>
        <div class="controls">
          <input id="customerName" type="text" placeholder="T√™n kh√°ch (tu·ª≥ ch·ªçn)" style="flex:1">
          <select id="paymentMethod">
            <option value="cash">Ti·ªÅn m·∫∑t</option>
            <option value="card">Th·∫ª</option>
            <option value="online">Chuy·ªÉn kho·∫£n</option>
          </select>
        </div>
        <div style="display:flex;gap:8px;margin-top:8px">
          <button id="btnCheckout" class="primary">Thanh to√°n</button>
          <button id="btnPrint" class="ghost">In h√≥a ƒë∆°n</button>
        </div>
        <div class="invoice print-area" id="invoicePreview" style="display:none"></div>
      </aside>
    </div>

    <!-- Tab h√≥a ƒë∆°n -->
    <div id="tabOrders" style="display:none;margin-top:20px">
      <h2 style="text-align:center;color:var(--accent)">üßæ Danh s√°ch h√≥a ƒë∆°n</h2>

      <div class="toolbar">
        <div id="totalOrdersSum" style="font-weight:bold;color:var(--accent)"></div>
        <div class="actions">
          <button onclick="exportOrdersToExcel()" style="padding:6px 10px;border-radius:6px;border:none;background:var(--success);color:#fff;cursor:pointer">üì§ Xu·∫•t Excel</button>
        </div>
      </div>

      <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px">
        <div class="filters" style="flex:1">
          <input id="searchOrder" type="text" placeholder="üîé T√¨m m√£/kh√°ch h√†ng" />
          <input id="filterDate" type="date" />
          <select id="filterPayment">
            <option value="">--T·∫•t c·∫£--</option>
            <option value="cash">Ti·ªÅn m·∫∑t</option>
            <option value="card">Th·∫ª</option>
            <option value="online">Chuy·ªÉn kho·∫£n</option>
          </select>
        </div>
      </div>

      <div class="orders-list">
        <div class="orders-container">
          <table>
            <thead>
              <tr>
                <th>M√£ Hƒê</th>
                <th>Kh√°ch h√†ng</th>
                <th>Ng√†y gi·ªù</th>
                <th>Thanh to√°n</th>
                <th class="right">T·ªïng</th>
              </tr>
            </thead>
            <tbody id="ordersTable"></tbody>
            <tfoot>
              <tr>
                <td colspan="4" style="text-align:right">T·ªïng c·ªông:</td>
                <td id="totalOrdersFooter" class="right"></td>
              </tr>
            </tfoot>
          </table>
        </div>
      </div>

      <div id="orderDetail" class="invoice" style="display:none; margin-top:15px; border:1px solid #ddd; border-radius:8px; padding:12px;">
        <div style="display:flex;justify-content:space-between;align-items:center;gap:8px">
          <strong>Chi ti·∫øt h√≥a ƒë∆°n</strong>
          <div style="display:flex;gap:8px">
            <button id="btnPrintOrder" style="padding:6px 10px;border-radius:6px;border:none;background:var(--accent);color:#fff;cursor:pointer">üñ® In</button>
            <button id="btnCloseDetail" style="padding:6px 10px;border-radius:6px;border:1px solid #ccc;background:transparent;cursor:pointer">‚úñ ƒê√≥ng</button>
          </div>
        </div>
        <div id="orderDetailContent" style="margin-top:10px" class="fade-in"></div>
      </div>
    </div>

  </div>

<script>
/* -------------------------
   Data keys & initial data
   ------------------------- */
const PRODUCTS_KEY='demo_products_v1'
const ORDERS_KEY='demo_orders_v1'

let products = [
  {id:1, name:'c√† ph√™ s·ªØa', price:20000},
  {id:2, name:'n∆∞·ªõc ng·ªçt', price:15000},
  {id:3, name:'n∆∞·ªõc su·ªëi', price:10000},
  {id:4, name:'c√† ph√™ ƒë√°', price:15000},
  {id:5, name:'n∆∞·ªõc cam', price:20000},
  {id:6, name:'tr√† chanh', price:10000}
]
if(localStorage.getItem(PRODUCTS_KEY)){products=JSON.parse(localStorage.getItem(PRODUCTS_KEY))}
let cart={}

/* -------------------------
   Helpers
   ------------------------- */
function currency(v){ return Number(v).toLocaleString('vi-VN') + '‚Ç´' }

/* -------------------------
   Render products & cart
   ------------------------- */
const productListEl=document.getElementById('productList')
const cartBody=document.getElementById('cartBody')
const totalsEl=document.getElementById('totals')
const discountEl=document.getElementById('discount')
const taxEl=document.getElementById('tax')
const invoicePreview=document.getElementById('invoicePreview')

function renderProducts(){
  productListEl.innerHTML=''
  products.forEach(p=>{
    const card=document.createElement('div')
    card.className='card'
    card.innerHTML=`
      <h3>${p.name}</h3>
      <div class="muted">M√£: ${p.id}</div>
      <div class="price">${currency(p.price)}</div>
      <div class="prod-actions">
        <input type="number" min="1" value="1" data-id="${p.id}" style="width:70px">
        <button data-add="${p.id}" class="primary">Th√™m</button>
      </div>`
    productListEl.appendChild(card)
  })
}
productListEl.addEventListener('click',e=>{
  const id=e.target.getAttribute('data-add'); if(!id) return
  const input=document.querySelector(`input[data-id='${id}']`)
  const qty=Math.max(1,parseInt(input.value||1))
  addToCart(parseInt(id),qty)
})
function addToCart(pid,qty=1){
  const p=products.find(x=>x.id===pid); if(!p) return
  cart[pid]=(cart[pid]||0)+qty; renderCart()
}
function renderCart(){
  cartBody.innerHTML=''
  Object.keys(cart).forEach(id=>{
    const p=products.find(x=>x.id==id); const q=cart[id]
    const line=p.price*q
    const tr=document.createElement('tr')
    tr.innerHTML=`
      <td>${p.name}<div class="small muted">${currency(p.price)}</div></td>
      <td><input type="number" min="0" data-q="${id}" value="${q}" style="width:70px"></td>
      <td class="right">${currency(line)} <button data-remove="${id}" class="ghost" style="margin-left:8px">x</button></td>`
    cartBody.appendChild(tr)
  })
  if(Object.keys(cart).length===0) cartBody.innerHTML='<tr><td colspan=3 class="small muted">Gi·ªè h√†ng tr·ªëng</td></tr>'
  updateTotals()
}
cartBody.addEventListener('input',e=>{
  const id=e.target.getAttribute('data-q'); if(!id) return
  let v=parseInt(e.target.value||0); if(v<=0) delete cart[id]; else cart[id]=v
  renderCart()
})
cartBody.addEventListener('click',e=>{
  const id=e.target.getAttribute('data-remove'); if(!id) return
  delete cart[id]; renderCart()
})
function updateTotals(){
  const subtotal=Object.keys(cart).reduce((s,id)=>s+products.find(x=>x.id==id).price*cart[id],0)
  const discount=Math.max(0,parseFloat(discountEl.value||0))
  const tax=Math.max(0,parseFloat(taxEl.value||0))
  const after=subtotal*(1-discount/100)*(1+tax/100)
  totalsEl.innerHTML=`T·ªïng: <span class="bold">${currency(Math.round(after))}</span>`
}

/* -------------------------
   Checkout / Invoice preview
   ------------------------- */
document.getElementById('btnCheckout').addEventListener('click',()=>{
  if(Object.keys(cart).length===0){alert('Gi·ªè h√†ng tr·ªëng!');return}
  const order=buildOrder(); saveOrder(order); renderOrders(); renderInvoice(order)
  invoicePreview.style.display='block'; alert('Thanh to√°n th√†nh c√¥ng.')
})
document.getElementById('btnPrint').addEventListener('click',()=>{
  if(invoicePreview.innerHTML.trim()===''){alert('Ch∆∞a c√≥ h√≥a ƒë∆°n');return}
  window.print()
})
function buildOrder(){
  const id='25HD'+Date.now()
  const items=Object.keys(cart).map(k=>{const p=products.find(x=>x.id==k);return {id:p.id,name:p.name,price:p.price,qty:cart[k],line:p.price*cart[k]}})
  const subtotal=items.reduce((s,i)=>s+i.line,0)
  const discount=Math.max(0,parseFloat(discountEl.value||0))
  const tax=Math.max(0,parseFloat(taxEl.value||0))
  const total=Math.round(subtotal*(1-discount/100)*(1+tax/100))
  return {orderId:id,customer:document.getElementById('customerName').value||'Kh√°ch l·∫ª',paymentMethod:document.getElementById('paymentMethod').value,items,subtotal,discount,tax,total,createdAt:new Date().toISOString()}
}
function saveOrder(o){
  const arr=JSON.parse(localStorage.getItem(ORDERS_KEY)||'[]'); arr.unshift(o)
  localStorage.setItem(ORDERS_KEY,JSON.stringify(arr)); cart={}; renderCart()
}
function renderInvoice(order){
  const d = new Date(order.createdAt)
  invoicePreview.innerHTML = `
    <div class="logo">T√äN C·ª¨A H√ÄNG</div>
    <div class="small muted">ƒê·ªãa ch·ªâ: S·ªë X, Qu·∫≠n Y ‚Äî ƒêT: 0123 456 789</div>
    <hr>
    <div style="display:flex;justify-content:space-between;margin-top:6px">
      <div class="small">S·ªë H√≥a ƒë∆°n: <strong>${order.orderId}</strong></div>
      <div class="small">${d.toLocaleString()}</div>
    </div>
    <div style="margin-top:6px">Thu ng√¢n: <strong>${order.customer}</strong></div>
    <table style="width:100%;margin-top:8px">
      <thead><tr><th>T√™n m√≥n</th><th class="right">SL</th><th class="right">ƒêG</th><th class="right">Th√†nh ti·ªÅn</th></tr></thead>
      <tbody>
        ${order.items.map(it=>`<tr><td>${it.name}</td><td class="right">${it.qty}</td><td class="right">${currency(it.price)}</td><td class="right">${currency(it.line)}</td></tr>`).join('')}
      </tbody>
    </table>
    <hr>
    <div style="display:flex;justify-content:space-between"><div class="small muted">T·∫°m t√≠nh</div><div class="bold">${currency(order.subtotal)}</div></div>
    <div style="display:flex;justify-content:space-between"><div class="small muted">Gi·∫£m gi√°</div><div class="bold">${order.discount}%</div></div>
    <div style="display:flex;justify-content:space-between"><div class="small muted">VAT</div><div class="bold">${order.tax}%</div></div>
    <div style="display:flex;justify-content:space-between;margin-top:8px"><div class="bold">T·ªïng thanh to√°n</div><div class="bold">${currency(order.total)}</div></div>
    <div style="margin-top:8px" class="small muted">H√¨nh th·ª©c thanh to√°n: ${order.paymentMethod}</div>
    <div style="text-align:center;margin-top:12px" class="small muted">C·∫£m ∆°n qu√Ω kh√°ch ‚Äî H·∫πn g·∫∑p l·∫°i!</div>
    <div style="text-align:center;margin-top:12px" class="small muted"><strong>M·ªôt s·∫£n ph·∫©m c·ªßa github.com/HOTRONGBANG</strong></div>
  `
}

/* -------------------------
   Orders list (render, detail, print, export)
   ------------------------- */
function renderOrders(){
  const arr = JSON.parse(localStorage.getItem(ORDERS_KEY) || '[]');
  const tb = document.getElementById("ordersTable");
  tb.innerHTML = "";

  const keyword = document.getElementById("searchOrder").value.toLowerCase();
  const filterDate = document.getElementById("filterDate").value;
  const filterPayment = document.getElementById("filterPayment").value;

  let list = arr.filter(o => {
    let ok = true;
    if (keyword && !(o.orderId + " " + (o.customer || "")).toLowerCase().includes(keyword)) ok = false;
    if (filterDate && (!o.createdAt || !o.createdAt.startsWith(filterDate))) ok = false;
    if (filterPayment && o.paymentMethod !== filterPayment) ok = false;
    return ok;
  });

  // T·ªïng ti·ªÅn & s·ªë l∆∞·ª£ng
  const totalSum = list.reduce((sum, o) => sum + (o.total || 0), 0);
  document.getElementById("totalOrdersSum").innerText = `T·ªïng t·∫•t c·∫£: ${currency(totalSum)} (${list.length} h√≥a ƒë∆°n)`;
  document.getElementById("totalOrdersFooter").innerText = currency(totalSum);
  document.getElementById('btnClearOrders').addEventListener('click',()=>{
  if(confirm('X√≥a to√†n b·ªô h√≥a ƒë∆°n?')){ localStorage.setItem(ORDERS_KEY,'[]'); renderOrders(); }
});
  if(list.length===0){
    tb.innerHTML="<tr><td colspan=5 class='small muted' style='padding:12px;text-align:center'>Kh√¥ng c√≥ h√≥a ƒë∆°n</td></tr>";
    return;
  }

  list.forEach(o=>{
    const tr=document.createElement("tr");
    tr.innerHTML=`<td>${o.orderId}</td>
                  <td>${o.customer}</td>
                  <td>${new Date(o.createdAt).toLocaleString()}</td>
                  <td>${o.paymentMethod}</td>
                  <td class="right">${currency(o.total)}</td>`;
    tr.onclick=()=>showOrderDetail(o);
    tb.appendChild(tr);
  });
}

function showOrderDetail(o){
  const box=document.getElementById("orderDetail");
  const content=document.getElementById("orderDetailContent");

  content.innerHTML = `
    <div class="logo">T√äN C·ª¨A H√ÄNG</div>
    <div class="small muted">ƒê·ªãa ch·ªâ: S·ªë X, Qu·∫≠n Y ‚Äî ƒêT: 0123 456 789</div>
    <hr>
    <div><strong>M√£ Hƒê:</strong> ${o.orderId}</div>
    <div><strong>Kh√°ch:</strong> ${o.customer}</div>
    <div><strong>Ng√†y:</strong> ${new Date(o.createdAt).toLocaleString()}</div>
    <div><strong>Thanh to√°n:</strong> ${o.paymentMethod}</div>
    <table style="width:100%;margin-top:6px;border-collapse:collapse;">
      <thead><tr style="background:#f7f9fc"><th style="padding:6px;text-align:left">S·∫£n ph·∫©m</th><th class="right">SL</th><th class="right">ƒêG</th><th class="right">Th√†nh ti·ªÅn</th></tr></thead>
      <tbody>
        ${o.items.map(i=>`<tr><td style="padding:6px">${i.name}</td><td style="padding:6px;text-align:right">${i.qty}</td><td style="padding:6px;text-align:right">${currency(i.price)}</td><td style="padding:6px;text-align:right">${currency(i.line)}</td></tr>`).join('')}
      </tbody>
    </table>
    <div style="text-align:right;margin-top:8px;font-weight:700">T·ªïng: ${currency(o.total)}</div>
    <div style="text-align:center;margin-top:10px" class="small muted">C·∫£m ∆°n qu√Ω kh√°ch ‚Äî H·∫πn g·∫∑p l·∫°i!</div>
  `;

  // in
  document.getElementById("btnPrintOrder").onclick = () => {
    const printWin = window.open('', '', 'width=600,height=700');
    printWin.document.write(`<html><head><title>In h√≥a ƒë∆°n</title><style>body{font-family:Arial}table{width:100%;border-collapse:collapse}th,td{border:1px solid #ccc;padding:6px;text-align:left}th{background:#f7f7f7}.right{text-align:right}</style></head><body>${content.innerHTML}</body></html>`);
    printWin.document.close();
    printWin.print();
  };

  document.getElementById("btnCloseDetail").onclick = () => {
    box.style.display='none';
  };

  box.style.display='block';
  box.scrollIntoView({behavior:'smooth', block:'center'});
}

/* Export to Excel using SheetJS */
function exportOrdersToExcel(){
  const arr = JSON.parse(localStorage.getItem(ORDERS_KEY) || '[]');
  const keyword = document.getElementById("searchOrder").value.toLowerCase();
  const filterDate = document.getElementById("filterDate").value;
  const filterPayment = document.getElementById("filterPayment").value;
  let list = arr.filter(o=>{
    let ok=true;
    if (keyword && !(o.orderId + " " + (o.customer || "")).toLowerCase().includes(keyword)) ok=false;
    if (filterDate && (!o.createdAt || !o.createdAt.startsWith(filterDate))) ok=false;
    if (filterPayment && o.paymentMethod !== filterPayment) ok=false;
    return ok;
  });
  if(list.length===0){ alert('Kh√¥ng c√≥ h√≥a ƒë∆°n ƒë·ªÉ xu·∫•t'); return; }
  const data = list.map(o=>({
    "M√£ h√≥a ƒë∆°n": o.orderId,
    "Kh√°ch h√†ng": o.customer,
    "Ng√†y t·∫°o": new Date(o.createdAt).toLocaleString(),
    "H√¨nh th·ª©c thanh to√°n": o.paymentMethod,
    "T·ªïng ti·ªÅn": o.total
  }));
  const sum = list.reduce((s,o)=>s+(o.total||0),0);
  data.push({"M√£ h√≥a ƒë∆°n":"","Kh√°ch h√†ng":"","Ng√†y t·∫°o":"","H√¨nh th·ª©c thanh to√°n":"T·ªïng c·ªông","T·ªïng ti·ªÅn":sum});
  const ws = XLSX.utils.json_to_sheet(data);
  const wb = XLSX.utils.book_new();
  XLSX.utils.book_append_sheet(wb, ws, "HoaDon");
  XLSX.writeFile(wb, "DanhSachHoaDon.xlsx");
}

/* -------------------------
   Tabs & theme toggle
   ------------------------- */
document.querySelectorAll("nav button").forEach(btn=>{
  btn.addEventListener("click",()=>{
    document.querySelectorAll("nav button").forEach(b=>b.classList.remove("active"))
    btn.classList.add("active")
    if(btn.dataset.tab==="sales"){
      document.getElementById("tabSales").style.display="grid";
      document.getElementById("tabOrders").style.display="none";
    } else {
      document.getElementById("tabSales").style.display="none";
      document.getElementById("tabOrders").style.display="block";
      renderOrders();
    }
  })
})

const themeToggle = document.getElementById('themeToggle');
const appRoot = document.getElementById('appRoot');
themeToggle.addEventListener('click',()=>{
  if(appRoot.getAttribute('data-theme') === 'light'){
    appRoot.setAttribute('data-theme','dark');
    themeToggle.textContent = '‚òÄÔ∏è Light';
  } else {
    appRoot.setAttribute('data-theme','light');
    themeToggle.textContent = 'üåô Dark';
  }
});

/* -------------------------
   Init bindings
   ------------------------- */
document.getElementById("searchOrder").oninput = renderOrders;
document.getElementById("filterDate").onchange = renderOrders;
document.getElementById("filterPayment").onchange = renderOrders;

renderProducts(); renderCart(); renderOrders();
</script>
</body>
</html> 